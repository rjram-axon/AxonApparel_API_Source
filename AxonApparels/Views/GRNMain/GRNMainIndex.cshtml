@{
    ViewBag.Title = "GRNMainIndex";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    #tGMbody_length {
    display:none;
    }
     #tblItemMovementdetails_filter {
        display: none;
    }
     #tGMbody_info {
    display:none;
    }
      #tGMbody_paginate {
    display:none;
    }
    /*#tGMbody_filter {
    margin-top:-25px;
    }*/
</style>
<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $('#txtFromDate').datepicker({
            dateFormat: 'dd/mm/yy',
            onSelect: function (dateString, txtDate) {
                DtChk = true;
                LoadMainGrid();
            }
        });
        $('#txtToDate').datepicker({
            dateFormat: 'dd/mm/yy',
            onSelect: function (dateString, txtDate) {
                DtChk = true;
                LoadMainGrid();
            }
        });

    })
</script>



<script src="~/Scripts/jquery.min.js"></script>
<script src="~/AxonScripts/Purchase/PurchaseGrnMain.js"></script>
<script src="~/AxonScripts/Common/jquery-3.3.1.js"></script>
<script src="~/AxonScripts/Common/jquery.dataTables.min.js"></script>
<script src="~/AxonScripts/Common/dataTables.scroller.min.js"></script>
<link href="~/AxonScripts/Common/jquery.dataTables.min.css" rel="stylesheet" />
<link href="~/AxonScripts/Common/scroller.dataTables.min.css" rel="stylesheet" />


<div class="right_col" role="main">
    <div class="">
        <div class="clearfix"></div>
        <div class="x_panel">

           
            <div class="x_panel">
                <div class="row">
                    <div class="row">

                        <div class="col-md-4 col-sm-4 col-xs-12">
                            <form class="form-horizontal form-label-left input_mask">
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3">
                                        Company
                                    </label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <select id="ddlMCompany" class="form-control select2" onchange="CMainList();"></select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3">
                                        Supplier
                                    </label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <select id="ddlMSupplier" class="form-control select2" onchange="SuppMainList();">
                                        </select>
                                    </div>
                                </div>
                                   <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3" for="txtEntryDate">DC No</label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <select id="ddlMDcNo" class="form-control select2" onchange="DcMainList();">
                                        </select>
                                    </div>
                                </div>
                                
                            </form>
                        </div>

                        <div class="col-md-4 col-sm-4 col-xs-12">

                            <form class="form-horizontal form-label-left input_mask">
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3">
                                        GRN No
                                    </label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <select id="ddlMGrnNo" class="form-control select2" onchange="GRnMainList();">
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3" for="txtEntryDate">Order No</label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <select id="ddlMOrderNo" class="form-control select2" onchange="OMainList();">
                                        </select>
                                    </div>
                                </div>
                                 <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3" for="ex3">
                                       From Date
                                    </label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                       <input type="text" id="txtFromDate" class="form-control" placeholder="Date">
                                    </div>
                                </div>
                                  
                            </form>
                        </div>
                        <div class="col-md-4 col-sm-4 col-xs-12">

                            <form class="form-horizontal form-label-left input_mask">

                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3" for="txtEntryDate">Ref No</label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <select id="ddlMRefNo" class="form-control select2" onchange="REFMainList();">
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3" for="txtEntryDate">PO No</label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <select id="ddlMPoNo" class="form-control select2" onchange="PoMainList();">
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-3" for="ex3">
                                       To Date
                                    </label>
                                    <div class="col-md-8 col-sm-8 col-xs-9">
                                        <input type="text" class="form-control" placeholder="Date" id="txtToDate">
                                    </div>
                                </div>

                              
                            </form>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">

                            <form class="form-horizontal form-label-left input_mask" style="float:right">

                               

                                  <div class="form-group" >
                            <input type="button" class="btn btn-success" value="List" onclick="List();">
                        </div>


                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                   
                    <div class="col-lg-7 col-md-9 col-sm-9 col-xs-12">
                        <div class="x_panel" style="padding: 0px;">
                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                <div class="form-group">
                                         <label style="font-size: 17px;white-space:  nowrap;">
                                Order Type
                                </label>
                                    </div>
                            </div>
                            <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12">
                               <div class="maxl" style="margin-top: -6px; margin-left:5px;">
                                            <label class="radio inline">
                                                <input type="radio" checked value="B" id="optMB" name="MOType" onclick="RadioMBClick();">
                                                <span>Bulk Order</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="S" id="optMS" name="MOType" onclick="RadioMBClick();">
                                                <span>Sample Order </span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="G" id="optMG" name="MOType" onclick="RadioMBClick();">
                                                <span>General</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="R" id="optMR" name="MOType" onclick="RadioSLClick();">
                                                <span>Spl Order</span>
                                            </label>
                                        </div>
                            </div>
                                
                                
                            
                        </div>
                        </div>
                    <div class="col-lg-5 col-md-7 col-sm-7 col-xs-12">
                        <div class="x_panel" style="padding: 0px;">
                         <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
                                <div class="form-group">
                                         <label style="font-size: 17px;white-space:  nowrap;margin-left: 0px;">
                                Purchase Type
                                </label>
                                    </div>
                            </div>
                            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                 <div class="maxl" style="margin-top: -6px;">
                                            <label class="radio inline">
                                                <input type="radio" checked value="" id="optl" name="MIType" onclick="RadioMLClick();">
                                                <span>All</span>
                                            </label>
                                          <label class="radio inline">
                                                <input type="radio" value="A" id="optA" name="MIType" onclick="RadioMLClick();">
                                                <span>Accessory</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="Y" id="optY" name="MIType" onclick="RadioMLClick();">
                                                <span>Yarn</span>
                                            </label>
                                        </div>
                            </div>
                            
                        </div>
                        </div>

                <div class="col-lg-7 col-md-9 col-sm-9 col-xs-12" id="MSplId">
                        <div class="x_panel" style="padding: 0px;">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <div class="form-group">
                                         <label style="font-size: 17px;white-space:  nowrap;">
                                SplOrder Type
                                </label>
                                    </div>
                            </div>
                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <div class="maxl" style="margin-top: -6px; ">
                                                    <label class="radio inline">
                                                        <input type="radio" checked="checked" value="W" id="OptWSpl" name="OSType">
                                                        <span>Work Order</span>
                                                    </label>
                                                    <label class="radio inline">
                                                        <input type="radio" value="S" id="OptSSpl" name="OSType">
                                                        <span>Sample Order </span>
                                                    </label>
                                                    <label class="radio inline">
                                                        <input type="radio" value="J" id="OptJSpl" name="OSType">
                                                        <span>Job Order</span>
                                                    </label>

                                                </div>
                            </div>
                                
                                
                            
                        </div>
                        </div>

                        


                       
                    
                     
                </div>
            @*<div class="row">
                <div class="row">
                    <div class="row">
                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                                <div class="x_panel" style="padding: 0px;" >
                                    <div class="col-md-5 col-sm-6 col-xs-6">
                                        <div class="form-group">
                                            <label style="font-size: 17px; white-space: nowrap;">
                                                Purchase Type
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-7 col-sm-6 col-xs-6">
                                        <div class="maxl" style="margin-top: -6px;">
                                            <label class="radio inline">
                                                <input type="radio" checked value="" id="optl" name="MIType" onclick="RadioMLClick();">
                                                <span>All</span>
                                            </label>
                                          <label class="radio inline">
                                                <input type="radio" value="A" id="optA" name="MIType" onclick="RadioMLClick();">
                                                <span>Accessory</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="Y" id="optY" name="MIType" onclick="RadioMLClick();">
                                                <span>Yarn</span>
                                            </label>
                                        </div>
                                    </div>



                                </div>
                            </div>
                            <div class="col-lg-8 col-md-9 col-sm-9 col-xs-12">
                                <div class="x_panel" style="padding: 0px; ">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                        <div class="form-group">
                                            <label style="font-size: 17px; white-space: nowrap;">
                                                Order Type
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-10 col-md-10 col-sm-10 col-xs-12">
                                        <div class="maxl" style="margin-top: -6px; margin-left:5px;">
                                            <label class="radio inline">
                                                <input type="radio" checked value="B" id="optMB" name="MOType" onclick="RadioMBClick();">
                                                <span>Bulk Order</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="S" id="optMS" name="MOType" onclick="RadioMBClick();">
                                                <span>Sample Order </span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="G" id="optMG" name="MOType" onclick="RadioMBClick();">
                                                <span>General</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="R" id="optMR" name="MOType" onclick="RadioSLClick();">
                                                <span>Spl Order</span>
                                            </label>
                                        </div>
                                    </div>



                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-md-7 col-sm-7 col-xs-12">
                                    <div class="col-lg-6 col-md-7 col-sm-7 col-xs-12" id="SplId">
                                        <div class="x_panel" style="padding: 0px; ">
                                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                                <div class="form-group">
                                                    <label style="font-size: 17px; white-space: nowrap;">
                                                        Spl Order Type
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                                                <div class="maxl" style="margin-top: -6px; ">
                                                    <label class="radio inline">
                                                        <input type="radio" checked="checked" value="W" id="OptWSpl" name="OSType">
                                                        <span>Work Order</span>
                                                    </label>
                                                    <label class="radio inline">
                                                        <input type="radio" value="S" id="OptSSpl" name="OSType">
                                                        <span>Sample Order </span>
                                                    </label>
                                                    <label class="radio inline">
                                                        <input type="radio" value="J" id="OptJSpl" name="OSType">
                                                        <span>Job Order</span>
                                                    </label>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>*@
            @* Load datatable css *@

                <link href="~/build/Login/jquery.dataTables.min.css" rel="stylesheet">
                @* Load datatable js *@
                @section Scripts{

                    <script src="~/build/js/jquery.dataTables.min.js"></script>
                    <script>
                                           
                    </script>

                }

            <div class="x_panel">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" onclick="LoadGrnOrderAdd();" @ViewBag.GRNAddFlg>Add New</button>
                        </div>
                        <label id="lblMainlist"></label>
                          <div class="form-group">
                                <table id="tGMbody" class="table table-bordered table-hover"></table>
                            </div>
                    </div>
                   <div class="col-md-4">
                                <input type="button" class="btn  btn-primary btn_program" value="GRN" onclick="LOADGRN();">
                                <input type="button" class="btn  btn-primary btn_program" value="Quality" onclick="LOADQLTY();">
                            </div>
                    
                </div>
            </div>
                    <div class="x_panel">
                   <div class="form-group">
                                            <label class="col-md-1 col-sm-1 col-xs-12 control-label">
                                                Order No
                                            </label>
                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                <textarea class="form-control" rows="4" placeholder="OrderNo" id="txtmainOrdno" disabled=""></textarea>
                                            </div>
                                        </div>
                   <div class="form-group">
                                            <label class="col-md-1 col-sm-1 col-xs-12 control-label">
                                                Ref No
                                            </label>
                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                <textarea class="form-control" rows="4" placeholder="RefNo" id="txtmainrefno" disabled=""></textarea>
                                            </div>
                                        </div>
                   <div class="form-group">
                                            <label class="col-md-1 col-sm-1 col-xs-12 control-label">
                                                Style
                                            </label>
                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                <textarea class="form-control" rows="4" placeholder="Style" id="txtmainstyle" disabled=""></textarea>
                                            </div>
                                        </div>
                   <div class="form-group">
                                            <label class="col-md-1 col-sm-1 col-xs-12 control-label">
                                                Stock Transfer
                                            </label>
                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                <textarea class="form-control" rows="4" placeholder="StockTransfer" id="txtmaintrans" disabled=""></textarea>
                                            </div>
                                        </div>

                        <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="col-md-6 col-sm-6 col-xs-12"><h2 style="font-size:16px;font-weight:600;margin-left: -11px;">Item Movements</h2></div>
                                    <form class="form-horizontal form-label-left input_mask">
                                        <div class="form-group">
                                            <div id="List">
                                                <table class="table table-responsive" id="tblItemMovementdetails">
                                                    <thead>
                                                        <tr>
                                                             <th>Trans No
                                                            </th>
                                                            <th >Item
                                                            </th>
                                                            <th>Color
                                                            </th>
                                                            <th >Size
                                                            </th>
                                                            <th hidden="hidden">Order No
                                                            </th>
                                                            <th >Quantity
                                                            </th>
                                                            <th>Stock Qty
                                                            </th>
                                                            <th >Uom
                                                            </th>
                                                             <th>Issue No
                                                            </th>
                                                            <th >Issue Date
                                                            </th>
                                                             <th>Issue Qty
                                                            </th>
                                                            
                                                        </tr>
                                                    </thead>

                                                </table>
                                                <span id="ItemError" style="color: red"></span>
                                            </div>
                                        </div>

                                    </form>
                                </div>

                                        </div>




            <div class="modal fade" style="overflow-y:scroll" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false" aria-hidden="true">
                    <div class="modal-dialog" style="min-width: 40%">
                        <div class="modal-content">
                            <div class="x_panel">
                                 <div class="x_title">
                <h2>Purchase Goods Receipt</h2>

                <div class="clearfix"></div>
            </div>
            <div class="row" style="margin:0;">
                <div class="row" style="margin:0;">               

                    <div class="col-md-8">

                        <form class="form-horizontal form-label-left input_mask">
                            <div class="form-group">
                                <label class="control-label col-md-2 col-sm-2 col-xs-12" >
                                    Options 
                                </label>
                                <div class="col-md-2 col-sm-2 col-xs-12" style="">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" id="selectall" value="">All
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <div class="multiselect">
                                      
                                        <select multiple="multiple" id='sbTwo' class="form-control multiselect" style="height:100px;">
                                        </select>
                                    </div>
                                </div>
                            </div>

                              @*<div class="col-md-9">
                                <div class="maxl" style="margin-left: 15px;width: 249px;margin-top: -6px;">
                                 <label class="radio inline"> 
                                  <input type="radio" value="G"  id="optgrey" name="FabType">
                                  <span>Grey Receipt </span> 
                              </label>
                            
                                </div>
                            </div>
                                
                                <div class="col-md-9">
                                <div class="maxl" style="margin-left: 15px;width: 249px;margin-top: -6px;">
                                 <label class="radio inline"> 
                                  <input type="radio" value="F"  id="optfin" name="FabType">
                                  <span>Finish Receipt </span> 
                              </label>
                            
                                </div>
                            </div>*@
                            
                               <div class="maxl" style="margin-top: 0px;" id="BudPrintPreviewId">
                                     <label class="radio inline">
                                                        <input id="BudPreviewPlanned" class="Score" name="BudPrintPreviewPlanned" type="radio" value="R">
                                                        <span>DOS </span>
                                                    </label>
                                                    <label class="radio inline">
                                                        <input id="BudPrintPlanned" class="Score" name="BudPrintPreviewPlanned" type="radio" value="P"  checked="checked" >
                                                        <span>Windows </span>
                                                    </label>
                                                   
                                                   
                                                </div>


                        </form>
                    </div>


                </div>
            </div>

                <div class="row" style="margin:0px; float:right;">
                    <div class="form-group" >
                                <button class="btn btn-success" onclick="SubReport();">Submit</button>
                                <button class="btn btn-danger" onclick="backtomain();">Cancel</button>
                            </div>
                </div>




        </div>
                            </div>
                        </div>
                     </div>


            <div class="modal fade" id="AlertModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="myModalLabel" aria-hidden="true" style="margin-top: -30px;">
                            <div class="modal-dialog" style="min-width: 160px">
                                <div class="row">
                                    
                                    <div></div>
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <div class="col-md-2 col-sm-2 col-xs-2"></div>
                                        <div id="dvUserdetails" class="col-md-8 col-sm-8 col-xs-12"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

        </div>
    </div>
</div>
