@{
    ViewBag.Title = "ItemTransferIndex";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript">
    jQuery(document).ready(function ($) {
        $('#txtEntrydate').datepicker({ dateFormat: 'dd/mm/yy' });
        //$('#txtOrderDate').datepicker({ dateFormat: 'dd/mm/yy' });
        $('#txtFromDate').datepicker({ dateFormat: 'dd/mm/yy' });
        $('#txtToDate').datepicker({ dateFormat: 'dd/mm/yy' });
    });
</script>

<script src="~/Scripts/jquery.min.js"></script>
<script src="~/AxonScripts/Purchase/ItemTransfer.js"></script>
<script src="~/AxonScripts/Common/jquery-3.3.1.js"></script>
<script src="~/AxonScripts/Common/jquery.dataTables.min.js"></script>
<script src="~/AxonScripts/Common/dataTables.scroller.min.js"></script>
<link href="~/AxonScripts/Common/jquery.dataTables.min.css" rel="stylesheet" />
<link href="~/AxonScripts/Common/scroller.dataTables.min.css" rel="stylesheet" />

<div class="right_col" role="main">
    <div class="">
        <div class="clearfix"></div>
        <div class="x_panel">
            <div class="x_panel">
                <div class="row">
                    <div class="row">
                        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <form class="form-horizontal form-label-left input_mask">
                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                        Company
                                    </label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <select id="ddlMCompany" class="form-control select2"  onchange="CMainlist();">
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                        TransNo
                                    </label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <select id="ddlItemTransno" class="form-control select2"  onchange="CMainlist();">
                                        </select>
                                    </div>
                                </div>



                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4" for="ex3">From Date</label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <input type="text" id="txtFromDate" class="form-control " placeholder="Date">
                                    </div>
                                </div>
                                @* <div class="form-group">
                                    <label class="col-md-3 col-sm-3 col-xs-12 control-label">
                                        Closure
                                                 
                                    </label>

                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" id="Closure" style="margin-top: 0px;" value="Y" onclick="LoadCheckData();" class="messageCheckbox">
                                            </label>
                                        </div>
                                    </div>
                                </div>*@
                            </form>
                        </div>
                        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <form class="form-horizontal form-label-left input_mask">
                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                        From Item
                                    </label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <select id="ddlFromItem" class="form-control select2"  onchange="CMainlist();"></select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                        To Item
                                    </label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <select id="ddlToItem" class="form-control select2"  onchange="CMainlist();">
                                        </select>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4" for="ex3">To Date</label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <input type="text" class="form-control " placeholder="Date" id="txtToDate">
                                    </div>
                                </div>

                            </form>
                        </div>
                        @*   <div class="col-md-3 col-sm-3 col-xs-12">
                            <form class="form-horizontal form-label-left input_mask">
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                        Order Type
                                    </label>
                                    <div class="col-md-8 col-sm-8 col-xs-12">
                                        <select id="ddlMType" class="form-control select2" onchange="CMainlist();">
                                            <option value="">--Select Type--</option>
                                            <option value="W">Work Order</option>
                                            <option value="J">Job Order</option>
                                            <option value="S">Sample Order</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">

                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <div class="maxl" style="margin-top: -5px;">
                                            <label class="radio inline">
                                                <input type="radio" checked value="P" name="proctype" onchange="CMainlist();">
                                                <span>Processor</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="W" name="proctype" onchange="CMainlist();">
                                                <span>Work Division</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <div class="maxl" style="margin-left: 9px; margin-top: -5px;">
                                        <label class="radio inline">
                                            <input type="radio" checked value="W" name="maintype" onclick="MRadioOtype();">
                                            <span>Buyer Order</span>
                                        </label>
                                        <label class="radio inline">
                                            <input type="radio" value="S" name="maintype" onclick="MRadioOtype();">
                                            <span>Sample Order </span>
                                        </label>
                                    </div>

                                </div>
                                <div class="form-group">

                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <div class="maxl" style="margin-top: -5px;">
                                            <label class="radio inline">
                                                <input type="radio" checked value="P" name="Apptype" onchange="CMainlist();">
                                                <span>Pending</span>
                                            </label>
                                            <label class="radio inline">
                                                <input type="radio" value="A" name="Apptype" onchange="CMainlist();">
                                                <span>Approved</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                            </form>
                        </div>*@
                        <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <form class="form-horizontal form-label-left input_mask">
                                @*<div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                        Process
                                    </label>
                                    <div class="col-md-8 col-sm-8 col-xs-12">
                                        <select id="ddlMProcess" class="form-control select2" onchange="CMainlist();">
                                        </select>
                                    </div>
                                </div>*@
                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                        Order No
                                    </label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <select id="ddlordno" class="form-control select2"  onchange="CMainlist();"></select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                        Ref No
                                    </label>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <select id="ddlrefno" class="form-control select2"  onchange="CMainlist();">
                                        </select>
                                    </div>
                                </div>
                                  <div class="form-group">

                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                        <div class="maxl" style="margin-top: -5px;width:300px">
                                                            @*<label class="">
                                                                <span>General</span>
                                                            </label>*@

                                                             <label class="radio inline">
                                                                <input type="radio" id="MB" checked="checked" value="W" name="Mordtype">
                                                                <span>Work Order</span>
                                                            </label>
                                                               <label class="radio inline">
                                                                <input type="radio" id="MJ"  value="J" name="Mordtype">
                                                                     <span>Job Order</span>
                                                            </label>
                                                            <label class="radio inline">
                                                                <input type="radio"  id="MG" value="G"  name="Mordtype" >
                                                                <span>General</span>
                                                            </label>
                                                           
                                                        </div>
                                                    </div>
                                                </div>
                                <div class="form-group" style="float: right;">
                                     <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="button" class="btn btn-success" value="List" onclick="loadMain();">
                                         </div>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </div>

            <link href="~/build/Login/jquery.dataTables.min.css" rel="stylesheet">
            @* Load datatable js *@
            @section Scripts{

                <script src="~/build/js/jquery.dataTables.min.js"></script>
                <script>
                                           
                </script>

            }



            <div class="x_panel">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal1" onclick="ClearTextbox();" @ViewBag.ItemTransAddFlg>Add New</button>
                <form class="form-horizontal form-label-left input_mask">
                    <div class="form-group">
                        <table id="tblmaindetails" class="table table-bordered table-hover">
                            @*<thead>
                                <tr>
                                    <th style="display: none;">Transmasid</th>
                                    <th>Transno</th>
                                    <th>Entrydate</th>
                                    <th style="display: none;">Companyid</th>
                                    <th>Company</th>
                                    <th style="display: none;">Userid</th>
                                    <th>Username</th>
                                  
                                    <td>&nbsp;</td>
                                </tr>
                            </thead>*@
                        </table>
                    </div>
                </form>

                  <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="col-md-6 col-sm-6 col-xs-12"><h2 style="font-size:16px;font-weight:600;margin-left: -11px;">Item Movements</h2></div>
                                    <form class="form-horizontal form-label-left input_mask">
                                        <div class="form-group">
                                            <div id="List">
                                                <table class="table table-responsive" id="tblItemMovementdetails">
                                                    <thead>
                                                        <tr>
                                                             <th>Trans No
                                                            </th>
                                                            <th >Item
                                                            </th>
                                                            <th>Color
                                                            </th>
                                                            <th >Size
                                                            </th>
                                                            <th hidden="hidden">Order No
                                                            </th>
                                                            <th >Quantity
                                                            </th>
                                                            <th>Stock Qty
                                                            </th>
                                                            <th >Uom
                                                            </th>
                                                             <th>Issue No
                                                            </th>
                                                            <th >Issue Date
                                                            </th>
                                                             <th>Issue Qty
                                                            </th>
                                                            
                                                        </tr>
                                                    </thead>

                                                </table>
                                                <span id="ItemError" style="color: red"></span>
                                            </div>
                                        </div>

                                    </form>
                                </div>


            </div>


            <div class="modal fade" style="overflow-y:scroll" id="myModal1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false" aria-hidden="true">
                <div class="modal-dialog" style="min-width: 95%">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Item Transfer</h4>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="x_panel" style="margin-top: 10px;">
                                <div class="row">
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                            <form class="form-horizontal form-label-left input_mask">
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        Company
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlCompany" class="form-control select2" onchange="CMainlist();">
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        Store
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlStore" class="form-control select2" onchange="CMainlist();">
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        Process
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlProcess"class="form-control select2"">
                                                        </select>
                                                    </div>
                                                </div>

                                              <div class="form-group">

                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                        <div class="maxl" style="margin-top: -5px;width:300px">
                                                            @*<label class="">
                                                                <span>General</span>
                                                            </label>*@

                                                              <label class="radio inline">
                                                                <input type="radio" id="wrkchk" checked="checked" value="W" name="ordtype">
                                                                <span>Work Order</span>
                                                            </label>
                                                               <label class="radio inline">
                                                                <input type="radio"  id="Jchk"  checked="" value="J" name="ordtype">
                                                                     <span>Job Order</span>
                                                            </label>

                                                            <label class="radio inline">
                                                                <input type="radio"  id="Gchk"  checked="" value="G"  name="ordtype" >
                                                                <span>General</span>
                                                            </label>
                                                          
                                                        </div>
                                                    </div>
                                                </div>
                                                  <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        Entry No
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <input type="text" id="txtEntryno" class="form-control " placeholder="EntryNo" disabled>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                            <form class="form-horizontal form-label-left input_mask">
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        Order No
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlOrderNo" class="form-control select2" >
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        WorkOrder No
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlWorkOrderNo" class="form-control select2">
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                   <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                       Trans Type
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlTranstype" class="form-control select2" >
                                                        </select>
                                                    </div>
                                                </div>
                                                    <div class="form-group">
                                                   <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                       TransNo
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlTransno" class="form-control select2" >
                                                        </select>
                                                    </div>
                                                </div>
                                                 <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        Entry Date
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <input type="text" id="txtEntrydate" class="form-control " placeholder="Entrydate" disabled>
                                                    </div>
                                                </div>
                                            </form>
                                           
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                                            <form class="form-horizontal form-label-left input_mask">
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        ItemType
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlItemType" class="form-control select2" >
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        Item
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlItem" class="form-control select2"  >
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        ItemColor
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlItemColor" class="form-control select2"  >
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                                        ItemSize
                                                    </label>
                                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                                        <select id="ddlItemSize" class="form-control select2"  >
                                                        </select>
                                                    </div>
                                                </div>
                                                                                    <div class="col-md-2" >
                                            <button class="btn btn-success " id="btnList" >List</button>
                                        </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="x_panel" style="">
                                    <div class="col-md-6" >
                                    <h2 style="margin-top: -5px;">Stock Details</h2>
                                        </div>
                                   @*   <div class="col-md-2" style="float: right">
                                            <button class="btn btn-success " id="btnIpFill" onclick="Ipfill()">Fill</button>
                                        </div>*@
                                        
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <form class="form-horizontal form-label-left input_mask" style="margin-left: -10px;">
                                            <div class="form-group">
                                                <table class="table table-bordered table-hover" border="1" id="stocktab">
                                                    <thead>
                                                        <tr>
                                                            <th>Transdetid</th>
                                                            <th>Transmasid</th>
                                                            <th>Transno</th>
                                                            <th>Stockid</th>
                                                            <th>NewStockid</th>
                                                            <th>FrmItemid</th>
                                                            <th>FrmItem</th>
                                                            <th>ToItemid</th>
                                                           @* <th>ToItem</th>*@
                                                            <th>FrmColorid</th>
                                                            <th>FrmColor</th>
                                                            <th>ToColorid</th>
                                                           @* <th>ToColor</th>*@
                                                            <th>FrmSizeid</th>
                                                            <th>FrmSize</th>
                                                            <th>ToSIzeid</th>
                                                            <th>StockQty</th>
                                                            <th>TransQty</th>
                                                            <th>SecTransQty</th>
                                                           
                                                            @* <th>View</th>*@

                                                        </tr>
                                                    </thead>

                                                </table>
                                            </div>
                                        </form>
                                    </div>

                                </div>
                            </div>
                        </div>

                    <div class="row" style="margin: 0px;">

                          <div class="x_panel">
                   <div class="form-group">
                                            <label class="col-lg-2 col-md-2 col-sm-2 col-xs-12 control-label">
                                                Order No
                                            </label>
                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                                <textarea class="form-control" rows="4" placeholder="OrderNo" id="txtmainOrdno" disabled=""></textarea>
                                            </div>
                                        </div>
                   <div class="form-group">
                                            <label class="col-lg-2 col-md-2 col-sm-2 col-xs-12 control-label">
                                                Ref No
                                            </label>
                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                                <textarea class="form-control" rows="4" placeholder="RefNo" id="txtmainrefno" disabled=""></textarea>
                                            </div>
                                        </div>
                   <div class="form-group">
                                            <label class="col-lg-2 col-md-2 col-sm-2 col-xs-12 control-label">
                                                Style
                                            </label>
                                            <div class="col-lg-2 col-md-2 col-sm-2 col-xs-12">
                                                <textarea class="form-control" rows="4" placeholder="Style" id="txtmainstyle" disabled=""></textarea>
                                            </div>
                                        </div>
                 
                                        </div>

                       
                            <div class="modal-footer" style="border: none;">
                                 <div  class="col-lg-6 col-md-6 col-sm-6 col-xs-12" style="border: none; float: left;">
                             <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                                       Remarks
                                                    </label>
                                                    <div class="col-md-9 col-sm-9 col-xs-12">
                                                        <textarea id="txtremarks" ></textarea>
                                                    </div>

                             </div>
                                <div class="col-md-6" style="border: none; float: right;">
                                <button class="btn btn-success " id="btnAdd" onclick="Save();">Save</button>
                                <button class="btn  btn-success " onclick="Update();" id="btnUpdate">Update</button>
                                <button class="btn btn-danger " onclick="Delete();" id="btnDelete">Delete</button>
                                <button class="btn btn-danger " data-dismiss="modal" style="margin-right: 5px;">Close</button>
                                    </div>
                            </div>
                        </div>



                    </div>
                </div>

            </div>
            <div class="modal fade" id="AlertModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-labelledby="myModalLabel" aria-hidden="true" style="margin-top: -30px;">
                            <div class="modal-dialog" style="min-width: 160px">
                                <div class="row">
                                    
                                    <div></div>
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <div class="col-md-2 col-sm-2 col-xs-2"></div>
                                        <div id="dvUserdetails" class="col-md-8 col-sm-8 col-xs-12"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
        </div>
    </div>
</div>
